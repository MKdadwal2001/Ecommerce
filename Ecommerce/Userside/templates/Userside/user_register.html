{% extends "Userside/user_index.html" %}
{% block content %}
<div class="container-fluid pt-5">
    <div class="text-center mb-4">
        <h2 class="section-title px-5"><span class="px-2">Create your account</span></h2>
    </div>
    <div class="row justify-content-center px-xl-5">
        <div class="col-lg-7 mb-5">
            <div class="contact-form">
                <div id="success"></div>
                <form action="{% url 'user-register' %}" method="post">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-6 control-group">
                            <input type="text" class="form-control custom-border" name="username" placeholder="Your Username">
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="col-md-6 control-group">
                            <input type="email" class="form-control custom-border" name="email" placeholder="Your Email">
                            <p class="help-block text-danger"></p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 control-group">
                            <input type="password" id="passwordField" class="form-control custom-border" name="passwd" placeholder="Your Password">
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="col-md-6 control-group">
                            <input type="text" class="form-control custom-border" name="firstname" placeholder="Your First Name">
                            <p class="help-block text-danger"></p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 control-group">
                            <input type="checkbox" id="togglePassword">
                            <label for="togglePassword">Show Password</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 control-group">
                            <input type="text" class="form-control custom-border" name="lastname" placeholder="Your Last Name">
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="col-md-6 control-group">
                            <input type="text" class="form-control custom-border" name="phonenumber" placeholder="Your Phone Number">
                            <p class="help-block text-danger"></p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 control-group">
                            <input type="text" class="form-control custom-border" name="pincode" placeholder="Your Pincode">
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="col-md-6 control-group">
                            <input type="text" class="form-control custom-border" name="locality" placeholder="Your Locality">
                            <p class="help-block text-danger"></p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 control-group">
                            <input type="text" class="form-control custom-border" name="landmark" placeholder="Your Landmark">
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="col-md-6 control-group">
                            <p>Profile Picture only</p>
                            <label for=""><input type="file" class="form-control custom-border" name="userimage" placeholder="User Image">
                        <p class="help-block text-danger"></p>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 control-group">
                            <textarea class="form-control custom-border" name="address" placeholder="Your Address" rows="4"></textarea>
                            <p class="help-block text-danger"></p>
                        </div>
                    </div>
                    <div class="text-center mt-4">
                        <button class="btn btn-primary py-2 px-4" type="submit" id="sendMessageButton">Register</button>
                    </div>
                    <div class="text-center mt-3">
                        <p class="help-block text-danger">Already have an account? 
                            <a class="text-dark font-weight-semi-bold" href="{% url 'user-login' %}">Login Here</a>
                        </p>
                    </div>
                </form>
            </div>
        </div> 
    </div> 
</div>
</div>

<style>
    .custom-border {
        border: 2px solid #D19C97;
    }
    
    .custom-border:focus {
        border-color: #D19C97;
        box-shadow: 0 0 5px rgba(209, 156, 151, 0.5);
    }
</style>

<script>
    document.getElementById("sendMessageButton").addEventListener("click", function(event) {
        var username = document.querySelector('input[name="username"]').value;
        var email = document.querySelector('input[name="email"]').value;
        var password = document.querySelector('input[name="passwd"]').value;
        var firstname = document.querySelector('input[name="firstname"]').value;
        var lastname = document.querySelector('input[name="lastname"]').value;
        var phonenumber = document.querySelector('input[name="phonenumber"]').value;
        var pincode = document.querySelector('input[name="pincode"]').value;
        var locality = document.querySelector('input[name="locality"]').value;
        var landmark = document.querySelector('input[name="landmark"]').value;
        var address = document.querySelector('textarea[name="address"]').value;

        if (!username || !email || !password || !firstname || !lastname || !phonenumber || !pincode || !locality || !landmark || !address) {
            event.preventDefault(); 
            alert("Please fill in all the required fields.");
        }
    });
    
    document.getElementById("togglePassword").addEventListener("change", function() {
        var passwordField = document.getElementById("passwordField");
        if (this.checked) {
            passwordField.type = "text";
        } else {
            passwordField.type = "password";
        }
    });
</script>

{% endblock %}